{{ define "main" }}
<h1>ğŸ·ï¸ Theme: {{ .Title }}</h1>
<p style="font-style: italic; color: #7d6c5a; font-size: 1.1rem; margin-bottom: 2rem;">
  All records tagged with theme "{{ .Title }}"
</p>

<div class="content-section">
  {{ $pages := .Pages }}
  {{ $pagesByYear := $pages.GroupByDate "2006" "asc" }}
  
  {{ range $pagesByYear }}
    <h2 style="margin-top: 2rem;">{{ .Key }}</h2>
    <ul style="list-style: none; margin-left: 0;">
      {{ range .Pages }}
        <li style="padding: 0.75rem; margin-bottom: 0.75rem; background: #f9f7f4; border-left: 3px solid #8b7355; border-radius: 4px;">
          <a href="{{ .RelPermalink }}" style="border: none; font-weight: bold; font-size: 1.05rem;">{{ .Title }}</a>
          {{ with .Date }}<br><span class="date">{{ .Format "2 January 2006" }}</span>{{ end }}
          {{ with .Params.themes }}
            <br><small style="color: #7d6c5a;">ğŸ·ï¸ 
              {{ range $index, $theme := . }}
                {{ if $index }}, {{ end }}
                <a href="{{ "/themes/" | relLangURL }}{{ $theme | urlize }}/" style="color: #8b7355; text-decoration: underline;">{{ $theme }}</a>
              {{ end }}
            </small>
          {{ end }}
        </li>
      {{ end }}
    </ul>
  {{ end }}
  
  {{ if eq (len $pages) 0 }}
    <p style="font-style: italic; color: #999;">No records found with this theme.</p>
  {{ end }}
</div>

<div style="margin-top: 2rem;">
  <a href="{{ "/themes/" | relLangURL }}" style="color: #8b7355;">â† View all themes</a>
</div>
{{ end }}
